---
title: 数据结构-图
date: 2025-07-06 11:14:36
categories:
    - 408
    - 数据结构
---
无向图G=(V,E) V-vertex顶点 E-edge边

## 图的应用
### 最小生成树
最小生成树是图中一个包含所有顶点的子图，且这个子图是一棵树，其所有边的权值之和最小。最小生成树可能不唯一，但边数一定等于顶点数减1

#### 普里姆算法 Prim
贪心算法，非常类似找图最短路径的Dijkstra算法。过程就是在所有连接“已访问”顶点和“未访问”顶点的边中，找到一条权值最小的边，将其加入已访问不断循环。这种方法求出来的是最小生成树，不是某顶点到其余各点的最短路径[23.06]
![](https://pub-35b33650d5944267a2f7969ac8f72430.r2.dev/75c10ce93a654ded8d2f25f9010715b1.png)

#### 克鲁斯卡尔算法 Kruskal
将图中所有的边按照权值从小到大进行排序，从权值最小的边开始，依次考察每一条边,如果这条边连接的两个顶点不在同一个连通分量中（即，加入这条边不会形成环），则将这条边加入到最小生成树中。循环直到有V-1条边

### 最短路径
#### Dijkstra算法
Dijkstra算法用于只有正权值的图，每次添加一个最短距离的未加入点，并根据这个点更新源点到其他点的距离

**22.07** 找时间余量最大的活动 
![](https://res.cloudinary.com/dkdhhe5fc/image/upload/v1751774106/Snipaste_2025-07-06_11-50-40_h7rmw4.png)
**第一步：计算所有事件的最早发生时间 (ve)**
最早时间必须所有指向它的活动全部完成
$ve(1) = 0$
$ve(2) = ve(1) + a = 0 + 2 = 2$
$ve(3) = \max(ve(1) + b, ve(2) + c) = \max(0 + 5, 2 + 1) = 5$
$ve(4) = \max(ve(2) + d, ve(3) + e) = \max(2 + 4, 5 + 3) = 8$
$ve(5) = \max(ve(3) + f, ve(4) + h) = \max(5 + 4, 8 + 1) = 9$
$ve(6) = \max(ve(4) + i, ve(3) + g, ve(5) + j) = \max(8 + 4, 5 + 1, 9 + 1) = \max(12, 6, 10) = 12$

项目的**关键路径**长度为12。

**第二步：计算所有事件的最晚发生时间 (vl)**
最晚发生时间从结束节点倒推，如5事件，因为6要在*12*时完成，5最迟要在*12-1*时完成；4事件，因为6要在*12*时完成，所以4最迟*12-4*，5最迟*11*，所以4最迟*11-1*，取最小值
$vl(6) = ve(6) = 12$
$vl(5) = vl(6) - j = 12 - 1 = 11$
$vl(4) = \min(vl(6) - i, vl(5) - h) = \min(12 - 4, 11 - 1) = \min(8, 10) = 8$
$vl(3) = \min(vl(4) - e, vl(5) - f, vl(6) - g) = \min(8 - 3, 11 - 4, 12 - 1) = \min(5, 7, 11) = 5$
$vl(2) = \min(vl(3) - c, vl(4) - d) = \min(5 - 1, 8 - 4) = \min(4, 4) = 4$
$vl(1) = \min(vl(2) - a, vl(3) - b) = \min(4 - 2, 5 - 5) = 0$

**第三步：计算每个活动的时间余量**

| 活动 | 边 (i,j) | 持续时间 | 计算过程: $vl(j) - ve(i) - duration$ | **时间余量** |
| :--- | :--- | :--- | :--- | :--- |
| a | (1,2) | 2 | $vl(2) - ve(1) - 2 = 4 - 0 - 2$ | 2 |
| b | (1,3) | 5 | $vl(3) - ve(1) - 5 = 5 - 0 - 5$ | 0 (关键活动) |
| c | (2,3) | 1 | $vl(3) - ve(2) - 1 = 5 - 2 - 1$ | 2 |
| d | (2,4) | 4 | $vl(4) - ve(2) - 4 = 8 - 2 - 4$ | 2 |
| e | (3,4) | 3 | $vl(4) - ve(3) - 3 = 8 - 5 - 3$ | 0 (关键活动) |
| f | (3,5) | 4 | $vl(5) - ve(3) - 4 = 11 - 5 - 4$ | 2 |
| **g** | **(3,6)** | **1** | **$vl(6) - ve(3) - 1 = 12 - 5 - 1$** | **6** |
| h | (4,5) | 1 | $vl(5) - ve(4) - 1 = 11 - 8 - 1$ | 2 |
| i | (4,6) | 4 | $vl(6) - ve(4) - 4 = 12 - 8 - 4$ | 0 (关键活动) |
| j | (5,6) | 1 | $vl(6) - ve(5) - 1 = 12 - 9 - 1$ | 2 |